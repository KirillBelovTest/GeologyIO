(* :Package: *)

BeginPackage["KirillBelov`GeologyIO`EBCDIC`"]; 


(*Names*)


EBCDICToString::usage = 
"ToIBMFloat32[numbers] returns byte array in IBM Float 32 format."; 


StringToEBCDIC::usage = 
"ToIBMFloat32[byteArray] returns numbers from IBM Float 32 byte array."; 


Begin["`Private`"]; 


(*Public*)


EBCDICToString[chars_ByteArray] := 
FromCharacterCode[Normal[chars] /. $EBCDICToASCII]; 


StringToEBCDIC[text_String] := 
ByteArray[ToCharacterCode[text] /. $ASCIIToEBCDIC]; 


(*Internal*)


$EBCDICToASCII = Dispatch[{
	0->0,1->1,2->2,3->3,4->26,5->9,6->26,7->127,8->26,
	9->26,10->26,11->11,12->12,13->13,14->14,15->15,
	16->16,17->17,18->18,19->19,20->26,21->26,22->8,
	23->26,24->24,25->25,26->26,27->26,28->28,29->29,
	30->30,31->31,32->26,33->26,34->26,35->26,36->26,
	37->10,38->23,39->27,40->26,41->26,42->26,43->26,
	44->26,45->5,46->6,47->7,48->26,49->26,50->22,51->26,
	52->26,53->26,54->26,55->4,56->26,57->26,58->26,59->26,
	60->20,61->21,62->26,63->26,64->32,65->26,66->26,67->26,
	68->26,69->26,70->26,71->26,72->26,73->26,74->91,75->46,
	76->60,77->40,78->43,79->33,80->38,81->26,82->26,83->26,
	84->26,85->26,86->26,87->26,88->26,89->26,90->93,91->36,
	92->42,93->41,94->59,95->94,96->45,97->26,98->26,99->26,
	100->26,101->26,102->26,103->26,104->26,105->26,106->124,
	107->44,108->37,109->95,110->62,111->63,112->26,113->26,
	114->26,115->26,116->26,117->26,118->26,119->26,120->26,
	121->96,122->58,123->35,124->64,125->39,126->61,127->34,
	128->26,129->97,130->98,131->99,132->100,133->101,
	134->102,135->103,136->104,137->105,138->26,139->26,
	140->26,141->26,142->26,143->26,144->26,145->106,146->107,
	147->108,148->109,149->110,150->111,151->112,152->113,
	153->114,154->26,155->26,156->26,157->26,158->26,159->26,
	160->26,161->126,162->115,163->116,164->117,165->118,
	166->119,167->120,168->121,169->122,170->26,171->26,
	72->26,173->26,174->26,175->26,176->26,177->26,178->26,
	179->26,180->26,181->26,182->26,183->26,184->26,185->26,
	186->26,187->26,188->26,189->26,190->26,191->26,192->123,
	193->65,194->66,195->67,196->68,197->69,198->70,199->71,
	200->72,201->73,202->26,203->26,204->26,205->26,206->26,
	207->26,208->125,209->74,210->75,211->76,212->77,213->78,
	214->79,215->80,216->81,217->82,218->26,219->26,220->26,
	221->26,222->26,223->26,224->92,225->26,226->83,227->84,
	228->85,229->86,230->87,231->88,232->89,233->90,234->26,
	235->26,236->26,237->26,238->26,239->26,240->48,241->49,
	242->50,243->51,244->52,245->53,246->54,247->55,248->56,
	249->57,250->26,251->26,252->26,253->26,254->26,255->26
}]; 

$ASCIIToEBCDIC = Dispatch[{
	0->0,1->1,2->2,3->3,4->26,5->9,6->26,7->127,8->26,9->26,
	10->26,11->11,12->12,13->13,14->14,15->15,16->16,17->17,
	18->18,19->19,20->60,21->61,22->50,23->38,24->24,25->25,
	26->63,27->39,28->28,29->29,30->30,31->31,32->64,33->79,
	34->127,35->123,36->91,37->108,38->80,39->125,40->77,41->93,
	42->92,43->78,44->107,45->96,46->75,47->97,48->240,49->241,
	50->242,51->243,52->244,53->245,54->246,55->247,56->248,
	57->249,58->122,59->94,60->76,61->126,62->110,63->111,64->124,
	65->193,66->194,67->195,68->196,69->197,70->198,71->199,
	72->200,73->201,74->209,75->210,76->211,77->212,78->213,
	79->214,80->215,81->216,82->217,83->226,84->227,85->228,
	86->229,87->230,88->231,89->232,90->233,91->74,92->224,
	94->95,95->109,96->121,97->129,98->130,99->131,100->132,
	101->133,102->134,103->135,104->136,105->137,106->145,
	107->146,108->147,109->148,110->149,111->150,112->151,
	113->152,114->153,115->162,116->163,117->164,118->165,
	119->166,120->167,121->168,122->169,123->192,124->106,
	125->208,126->161,127->7,128->63,129->63,130->63,131->63,
	132->63,133->63,134->63,135->63,136->63,137->63,138->63,
	139->63,140->63,141->63,142->63,143->63,144->63,145->63,
	146->63,147->63,148->63,149->63,150->63,151->63,152->63,
	153->63,154->63,155->63,156->63,157->63,158->63,159->63,
	160->63,161->63,162->63,163->63,164->63,165->63,166->63,
	167->63,168->63,169->63,170->63,171->63,172->63,173->63,
	174->63,175->63,176->63,177->63,178->63,179->63,180->63,
	181->63,182->63,183->63,184->63,185->63,186->63,187->63,
	188->63,189->63,190->63,191->63,192->63,193->63,194->63,
	195->63,196->63,197->63,198->63,199->63,200->63,201->63,
	202->63,203->63,204->63,205->63,206->63,207->63,208->63,
	209->63,210->63,211->63,212->63,213->63,214->63,215->63,
	216->63,217->63,218->63,219->63,220->63,221->63,222->63,
	223->63,224->63,225->63,226->63,227->63,228->63,229->63,
	230->63,231->63,232->63,233->63,234->63,235->63,236->63,
	237->63,238->63,239->63,240->63,241->63,242->63,243->63,
	244->63,245->63,246->63,247->63,248->63,249->63,250->63,
	251->63,252->63,253->63,254->63,255->63
}];


End[(*`Private`*)]; 


EndPackage[(*KirillBelov`GeologyIO`Numbers`*)]; 